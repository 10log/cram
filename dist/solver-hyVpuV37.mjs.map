{"version":3,"file":"solver-hyVpuV37.mjs","sources":["../src/compute/solver.ts"],"sourcesContent":["import { v4 as uuid } from 'uuid';\nimport { EditorModes } from \"../constants/editor-modes\";\n\n\nexport interface SolverParams {\n  [key: string]: any;\n  name?: string;\n}\n\nexport default abstract class Solver {\n  params: SolverParams;\n  name: string;\n  uuid: string;\n  kind: string;\n  running: boolean;\n  update!: () => void;\n  clearpass: boolean;\n  autoCalculate: boolean;\n\n  constructor(params?: SolverParams) {\n    this.params = params || {};\n    this.name = (params && params.name) || \"untitled solver\";\n    this.kind = \"solver\";\n    this.uuid = uuid();\n    this.running = false;\n    this.clearpass = false;\n    this.autoCalculate = false;\n    this.update = () => {};\n  }\n\n  /** Override in subclasses to perform the solver's calculation */\n  calculate(): void {\n    // Default implementation does nothing - override in subclasses\n  }\n  save() {\n    const { name, kind, uuid, autoCalculate } = this;\n    return {\n      name,\n      kind,\n      uuid,\n      autoCalculate\n    };\n  }\n  restore(state: { name: string; uuid: string; autoCalculate?: boolean }) {\n    this.name = state.name;\n    this.uuid = state.uuid;\n    this.autoCalculate = state.autoCalculate ?? false;\n    return this;\n  }\n  dispose() {\n    console.log(\"disposed from abstract...\");\n  }\n  onModeChange(mode: EditorModes) {}\n  onParameterConfigFocus() {}\n  onParameterConfigBlur() {}\n}\n\n\n// on(\"RESTORE_SOLVERS\", (solvers: SaveState[\"solvers\"]) => {\n//   const { solvers: current_solvers } = useSolver.getState()\n//   const keys = Object.keys(current_solvers);\n//   keys.forEach((key) => {\n//     emit(\"REMOVE\")\n//   });\n//   if (args && args[0] && args[0] instanceof Array) {\n//     // console.log(args[0]);\n//     console.log(args[0]);\n//     args[0].forEach((saveObj) => {\n\n//         default:\n//           break;\n//       }\n//     });\n//   }\n// });\n\n\n"],"names":["Solver","params","uuid","name","kind","autoCalculate","state","mode"],"mappings":";AASA,MAA8BA,EAAO;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAYC,GAAuB;AACjC,SAAK,SAASA,KAAU,CAAA,GACxB,KAAK,OAAQA,KAAUA,EAAO,QAAS,mBACvC,KAAK,OAAO,UACZ,KAAK,OAAOC,EAAA,GACZ,KAAK,UAAU,IACf,KAAK,YAAY,IACjB,KAAK,gBAAgB,IACrB,KAAK,SAAS,MAAM;AAAA,IAAC;AAAA,EACvB;AAAA;AAAA,EAGA,YAAkB;AAAA,EAElB;AAAA,EACA,OAAO;AACL,UAAM,EAAE,MAAAC,GAAM,MAAAC,GAAM,MAAAF,GAAM,eAAAG,MAAkB;AAC5C,WAAO;AAAA,MACL,MAAAF;AAAA,MACA,MAAAC;AAAA,MACA,MAAAF;AAAAA,MACA,eAAAG;AAAA,IAAA;AAAA,EAEJ;AAAA,EACA,QAAQC,GAAgE;AACtE,gBAAK,OAAOA,EAAM,MAClB,KAAK,OAAOA,EAAM,MAClB,KAAK,gBAAgBA,EAAM,iBAAiB,IACrC;AAAA,EACT;AAAA,EACA,UAAU;AACR,YAAQ,IAAI,2BAA2B;AAAA,EACzC;AAAA,EACA,aAAaC,GAAmB;AAAA,EAAC;AAAA,EACjC,yBAAyB;AAAA,EAAC;AAAA,EAC1B,wBAAwB;AAAA,EAAC;AAC3B;"}