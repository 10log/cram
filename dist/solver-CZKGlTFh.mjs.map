{"version":3,"file":"solver-CZKGlTFh.mjs","sources":["../src/compute/solver.ts"],"sourcesContent":["import { v4 as uuid } from 'uuid';\r\nimport { EditorModes } from \"../constants/editor-modes\";\r\n\r\n\r\nexport interface SolverParams {\r\n  [key: string]: any;\r\n  name?: string;\r\n}\r\n\r\nexport default abstract class Solver {\r\n  params: SolverParams;\r\n  name: string;\r\n  uuid: string;\r\n  kind: string;\r\n  running: boolean;\r\n  update!: () => void;\r\n  clearpass: boolean;\r\n  autoCalculate: boolean;\r\n\r\n  constructor(params?: SolverParams) {\r\n    this.params = params || {};\r\n    this.name = (params && params.name) || \"untitled solver\";\r\n    this.kind = \"solver\";\r\n    this.uuid = uuid();\r\n    this.running = false;\r\n    this.clearpass = false;\r\n    this.autoCalculate = false;\r\n    this.update = () => {};\r\n  }\r\n\r\n  /** Override in subclasses to perform the solver's calculation */\r\n  calculate(): void {\r\n    // Default implementation does nothing - override in subclasses\r\n  }\r\n  save() {\r\n    const { name, kind, uuid, autoCalculate } = this;\r\n    return {\r\n      name,\r\n      kind,\r\n      uuid,\r\n      autoCalculate\r\n    };\r\n  }\r\n  restore(state: { name: string; uuid: string; autoCalculate?: boolean }) {\r\n    this.name = state.name;\r\n    this.uuid = state.uuid;\r\n    this.autoCalculate = state.autoCalculate ?? false;\r\n    return this;\r\n  }\r\n  dispose() {\r\n    console.log(\"disposed from abstract...\");\r\n  }\r\n  onModeChange(mode: EditorModes) {}\r\n  onParameterConfigFocus() {}\r\n  onParameterConfigBlur() {}\r\n}\r\n\r\n\r\n// on(\"RESTORE_SOLVERS\", (solvers: SaveState[\"solvers\"]) => {\r\n//   const { solvers: current_solvers } = useSolver.getState()\r\n//   const keys = Object.keys(current_solvers);\r\n//   keys.forEach((key) => {\r\n//     emit(\"REMOVE\")\r\n//   });\r\n//   if (args && args[0] && args[0] instanceof Array) {\r\n//     // console.log(args[0]);\r\n//     console.log(args[0]);\r\n//     args[0].forEach((saveObj) => {\r\n\r\n//         default:\r\n//           break;\r\n//       }\r\n//     });\r\n//   }\r\n// });\r\n\r\n\r\n"],"names":["Solver","params","uuid","name","kind","autoCalculate","state","mode"],"mappings":";AASA,MAA8BA,EAAO;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAYC,GAAuB;AACjC,SAAK,SAASA,KAAU,CAAA,GACxB,KAAK,OAAQA,KAAUA,EAAO,QAAS,mBACvC,KAAK,OAAO,UACZ,KAAK,OAAOC,EAAA,GACZ,KAAK,UAAU,IACf,KAAK,YAAY,IACjB,KAAK,gBAAgB,IACrB,KAAK,SAAS,MAAM;AAAA,IAAC;AAAA,EACvB;AAAA;AAAA,EAGA,YAAkB;AAAA,EAElB;AAAA,EACA,OAAO;AACL,UAAM,EAAE,MAAAC,GAAM,MAAAC,GAAM,MAAAF,GAAM,eAAAG,MAAkB;AAC5C,WAAO;AAAA,MACL,MAAAF;AAAA,MACA,MAAAC;AAAA,MACA,MAAAF;AAAAA,MACA,eAAAG;AAAA,IAAA;AAAA,EAEJ;AAAA,EACA,QAAQC,GAAgE;AACtE,gBAAK,OAAOA,EAAM,MAClB,KAAK,OAAOA,EAAM,MAClB,KAAK,gBAAgBA,EAAM,iBAAiB,IACrC;AAAA,EACT;AAAA,EACA,UAAU;AACR,YAAQ,IAAI,2BAA2B;AAAA,EACzC;AAAA,EACA,aAAaC,GAAmB;AAAA,EAAC;AAAA,EACjC,yBAAyB;AAAA,EAAC;AAAA,EAC1B,wBAAwB;AAAA,EAAC;AAC3B;"}